---
interface Props {
  count?: number;
}

const { count = 50 } = Astro.props;
---

<div class="snow-container" aria-hidden="true">
  {Array.from({ length: count }).map((_, i) => (
    <div class="snow" style={`--delay: ${Math.random() * 5}s; --duration: ${5 + Math.random() * 5}s; --left: ${Math.random() * 100}vw;`}></div>
  ))}
</div>

<style>
  .snow-container {
    position: fixed;
    width: 100vw;
    height: 100vh;
    top: 0;
    left: 0;
    pointer-events: none;
    z-index: 1000;
  }

  .snow {
    position: fixed;
    width: 10px;
    height: 10px;
    background: white;
    border-radius: 50%;
    opacity: 0;
    animation: snow var(--duration) linear infinite;
    animation-delay: var(--delay);
    left: var(--left);
    pointer-events: none;
  }

  @keyframes snow {
    0% {
      transform: translateY(-10vh) scale(0);
      opacity: 1;
    }
    100% {
      transform: translateY(100vh) scale(0.5);
      opacity: 0.3;
    }
  }
</style>